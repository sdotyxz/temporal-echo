[gd_scene load_steps=7 format=3 uid="uid://game1"]

[ext_resource type="PackedScene" uid="uid://player1" path="res://scenes/player.tscn" id="1_player"]
[ext_resource type="Script" path="res://src/ai_echo_test.gd" id="2_ai_test"]
[ext_resource type="Script" path="res://src/trail_drawer.gd" id="3_trail"]
[ext_resource type="Script" path="res://src/trajectory_preview.gd" id="4_trajectory"]
[ext_resource type="PackedScene" uid="uid://boss1" path="res://scenes/boss.tscn" id="5_boss"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall_h"]
size = Vector2(900, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wall_v"]
size = Vector2(40, 700)

[node name="Game" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
offset_right = 800.0
offset_bottom = 600.0
color = Color(0.08, 0.08, 0.12, 1)
z_index = -1

[node name="Walls" type="Node" parent="."]

[node name="WallTop" type="StaticBody2D" parent="Walls" groups=["walls"]]
position = Vector2(400, -20)
collision_layer = 4
collision_mask = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallTop"]
shape = SubResource("RectangleShape2D_wall_h")

[node name="ColorRect" type="ColorRect" parent="Walls/WallTop"]
offset_left = -450.0
offset_top = -20.0
offset_right = 450.0
offset_bottom = 20.0
color = Color(0.3, 0.35, 0.4, 1)

[node name="WallBottom" type="StaticBody2D" parent="Walls" groups=["walls"]]
position = Vector2(400, 620)
collision_layer = 4
collision_mask = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallBottom"]
shape = SubResource("RectangleShape2D_wall_h")

[node name="ColorRect" type="ColorRect" parent="Walls/WallBottom"]
offset_left = -450.0
offset_top = -20.0
offset_right = 450.0
offset_bottom = 20.0
color = Color(0.3, 0.35, 0.4, 1)

[node name="WallLeft" type="StaticBody2D" parent="Walls" groups=["walls"]]
position = Vector2(-20, 300)
collision_layer = 4
collision_mask = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallLeft"]
shape = SubResource("RectangleShape2D_wall_v")

[node name="ColorRect" type="ColorRect" parent="Walls/WallLeft"]
offset_left = -20.0
offset_top = -350.0
offset_right = 20.0
offset_bottom = 350.0
color = Color(0.3, 0.35, 0.4, 1)

[node name="WallRight" type="StaticBody2D" parent="Walls" groups=["walls"]]
position = Vector2(820, 300)
collision_layer = 4
collision_mask = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="Walls/WallRight"]
shape = SubResource("RectangleShape2D_wall_v")

[node name="ColorRect" type="ColorRect" parent="Walls/WallRight"]
offset_left = -20.0
offset_top = -350.0
offset_right = 20.0
offset_bottom = 350.0
color = Color(0.3, 0.35, 0.4, 1)

[node name="Player" parent="." instance=ExtResource("1_player")]
position = Vector2(400, 300)

[node name="Camera2D" type="Camera2D" parent="Player"]
limit_left = -80
limit_top = -60
limit_right = 880
limit_bottom = 660
position_smoothing_enabled = true
position_smoothing_speed = 10.0

[node name="TrajectoryPreview" type="Node2D" parent="Player" node_paths=PackedStringArray("player")]
script = ExtResource("4_trajectory")
player = NodePath("..")

[node name="AIPlayer" type="Node" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("2_ai_test")
player = NodePath("../Player")
test_duration = 15.0

[node name="TrailDrawer" type="Node2D" parent="." node_paths=PackedStringArray("player")]
script = ExtResource("3_trail")
player = NodePath("../Player")

[node name="Boss" parent="." instance=ExtResource("5_boss")]
position = Vector2(600, 300)
player = NodePath("../Player")

[node name="UI" type="CanvasLayer" parent="."]

[node name="TestInfo" type="Label" parent="UI"]
offset_left = 20.0
offset_top = 20.0
offset_right = 450.0
offset_bottom = 120.0
theme_override_font_sizes/font_size = 20
text = "ü§ñ AIÁé©ÂÆ∂ÊµãËØï\nüü° ÈªÑËâ≤=ÂΩìÂâç üîµ ÈùíËâ≤=ÂéÜÂè≤"
